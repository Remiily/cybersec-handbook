<!DOCTYPE html>
<html lang="es" x-data="app" x-init="init()" :class="{ 'dark': darkMode }">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IaC Seguro - CyberSec Handbook</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <script>tailwind.config = { darkMode: 'class' }</script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
    <header class="sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-4">
                    <button @click="toggleSidebar()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 lg:hidden sidebar-toggle">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <a href="../../index.html" class="flex items-center gap-2">
                        <h1 class="text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">üõ°Ô∏è CyberSec Handbook</h1>
                    </a>
                </div>
                <button @click="toggleDarkMode()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">
                    <svg x-show="!darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                    <svg x-show="darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>
    <div x-show="sidebarOpen" @click="closeSidebar()" class="sidebar-overlay" x-cloak></div>
    <div class="flex relative">
                        <aside :class="sidebarOpen ? 'open' : ''" class="sidebar">
            <nav class="p-4 space-y-2">
                <!-- Navigation will be generated by navigation.js -->
            </nav>
        </aside>
        <main class="flex-1 min-h-screen lg:ml-64">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <article>
                    <header class="mb-8">
                        <h1 class="text-4xl font-bold mb-4">Infrastructure as Code Seguro</h1>
                        <p class="text-xl text-gray-600 dark:text-gray-400 mb-4">Terraform, CloudFormation y mejores pr√°cticas</p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge badge-advanced">Nivel: Avanzado</span>
                            <span class="badge">‚òÅÔ∏è IaC</span>
                        </div>
                    </header>
                    <div id="table-of-contents" class="toc"></div>
                    <div class="prose prose-lg dark:prose-invert max-w-none">
                        <h2 id="checklist-iac">Checklist de IaC Seguro</h2>
                        <div class="checklist-container bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-6" data-checklist-id="iac-secure">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-semibold">IaC Seguro</h3>
                                <div class="flex gap-2">
                                    <button onclick="resetChecklist(this.closest('.checklist-container'))" class="text-sm px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600">Resetear</button>
                                    <button onclick="exportChecklist(this.closest('.checklist-container'))" class="text-sm px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700">Exportar</button>
                                </div>
                            </div>
                            <div class="progress-bar mb-4">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4 progress-text">0/10 completado (0%)</p>
                            <div class="space-y-2">
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Secrets en variables de entorno o secret managers</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Estado de Terraform en backend seguro</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Scanning con Checkov/tfsec antes de aplicar</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Principio de menor privilegio en IAM</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Encriptaci√≥n habilitada por defecto</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Network segmentation configurada</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Logging y monitoreo habilitado</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Versionado de c√≥digo IaC</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Code review de cambios IaC</span>
                                </label>
                                <label class="checklist-item">
                                    <input type="checkbox" onchange="handleChecklistChange(event, this.closest('.checklist-container'))">
                                    <span>Testing de IaC (Terratest, etc.)</span>
                                </label>
                            </div>
                        </div>

                        <h2 id="terraform-seguro">Terraform Seguro</h2>
                        <h3>Ejemplo de Configuraci√≥n Segura</h3>
                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# main.tf - Ejemplo seguro\nprovider \"aws\" {\n  region = var.aws_region\n}\n\n# S3 bucket con encriptaci√≥n\nresource \"aws_s3_bucket\" \"secure_bucket\" {\n  bucket = var.bucket_name\n\n  server_side_encryption_configuration {\n    rule {\n      apply_server_side_encryption_by_default {\n        sse_algorithm = \"AES256\"\n      }\n    }\n  }\n\n  versioning {\n    enabled = true\n  }\n\n  public_access_block_configuration {\n    block_public_acls       = true\n    block_public_policy     = true\n    ignore_public_acls      = true\n    restrict_public_buckets = true\n  }\n}\n\n# EC2 con security group restrictivo\nresource \"aws_security_group\" \"web_sg\" {\n  name = \"web-sg\"\n\n  ingress {\n    from_port   = 80\n    to_port     = 80\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  ingress {\n    from_port   = 443\n    to_port     = 443\n    protocol    = \"tcp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n\n  egress {\n    from_port   = 0\n    to_port     = 0\n    protocol    = \"-1\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n}')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># main.tf - Ejemplo seguro
provider "aws" {
  region = var.aws_region
}

# S3 bucket con encriptaci√≥n
resource "aws_s3_bucket" "secure_bucket" {
  bucket = var.bucket_name

  server_side_encryption_configuration {
    rule {
      apply_server_side_encryption_by_default {
        sse_algorithm = "AES256"
      }
    }
  }

  versioning {
    enabled = true
  }

  public_access_block_configuration {
    block_public_acls       = true
    block_public_policy     = true
    ignore_public_acls      = true
    restrict_public_buckets = true
  }
}

# EC2 con security group restrictivo
resource "aws_security_group" "web_sg" {
  name = "web-sg"

  ingress {
    from_port   = 80
    to_port     = 80
    protocol    = "tcp"
    cidr_blocks = ["0.0.0.0/0"]
  }

  ingress {
    from_port   = 443
    to_port     = 443
    protocol    = "tcp"
    cidr_blocks = ["0.0.0.0/0"]
  }

  egress {
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = ["0.0.0.0/0"]
  }
}</code></pre>
                        </div>

                        <h2 id="checkov">Checkov - Scanning de Terraform</h2>
                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Instalar Checkov\npip install checkov\n\n# Scan de directorio Terraform\ncheckov -d .\n\n# Scan con output JSON\ncheckov -d . --output json --output-file results.json\n\n# Scan solo pol√≠ticas espec√≠ficas\ncheckov -d . --check CKV_AWS_20,CKV_AWS_21\n\n# Scan con framework espec√≠fico\ncheckov -d . --framework terraform\n\n# Ver pol√≠ticas disponibles\ncheckov --list\n\n# Scan con configuraci√≥n personalizada\ncheckov -d . --config-file .checkov.yml')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Instalar Checkov
pip install checkov

# Scan de directorio Terraform
checkov -d .

# Scan con output JSON
checkov -d . --output json --output-file results.json

# Scan solo pol√≠ticas espec√≠ficas
checkov -d . --check CKV_AWS_20,CKV_AWS_21

# Scan con framework espec√≠fico
checkov -d . --framework terraform

# Ver pol√≠ticas disponibles
checkov --list

# Scan con configuraci√≥n personalizada
checkov -d . --config-file .checkov.yml</code></pre>
                        </div>

                        <h2 id="tfsec">tfsec - Scanner de Terraform</h2>
                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Instalar tfsec\n# macOS\nbrew install tfsec\n\n# Linux\nwget https://github.com/aquasecurity/tfsec/releases/download/v1.28.1/tfsec-linux-amd64\nsudo mv tfsec-linux-amd64 /usr/local/bin/tfsec\nsudo chmod +x /usr/local/bin/tfsec\n\n# Scan de directorio\ntfsec .\n\n# Scan con output JSON\ntfsec --format json --out results.json .\n\n# Scan con m√≠nimo de severidad\ntfsec --minimum-severity HIGH .\n\n# Excluir checks espec√≠ficos\ntfsec --exclude AWS002,AWS003 .')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Instalar tfsec
# macOS
brew install tfsec

# Linux
wget https://github.com/aquasecurity/tfsec/releases/download/v1.28.1/tfsec-linux-amd64
sudo mv tfsec-linux-amd64 /usr/local/bin/tfsec
sudo chmod +x /usr/local/bin/tfsec

# Scan de directorio
tfsec .

# Scan con output JSON
tfsec --format json --out results.json .

# Scan con m√≠nimo de severidad
tfsec --minimum-severity HIGH .

# Excluir checks espec√≠ficos
tfsec --exclude AWS002,AWS003 .</code></pre>
                        </div>

                        <h2 id="terraform-seguro">Terraform - Mejores Pr√°cticas</h2>
                        <h3 id="state-management">State Management Seguro</h3>
                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy("# Configurar backend remoto seguro para Terraform state\n# backend.tf\nterraform {\n  backend \"s3\" {\n    bucket         = \"my-terraform-state\"\n    key            = \"prod/terraform.tfstate\"\n    region         = \"us-east-1\"\n    encrypt        = true\n    dynamodb_table = \"terraform-state-lock\"\n    \n    # Usar perfil IAM con permisos m√≠nimos\n    profile = \"terraform-prod\"\n  }\n}\n\n# Habilitar versionado en S3 bucket\naws s3api put-bucket-versioning \\\n  --bucket my-terraform-state \\\n  --versioning-configuration Status=Enabled\n\n# Habilitar encriptaci√≥n\naws s3api put-bucket-encryption \\\n  --bucket my-terraform-state \\\n  --server-side-encryption-configuration '{\n    \"Rules\": [{\n      \"ApplyServerSideEncryptionByDefault\": {\n        \"SSEAlgorithm\": \"AES256\"\n      }\n    }]\n  }'\n\n# Crear DynamoDB table para state locking\naws dynamodb create-table \\\n  --table-name terraform-state-lock \\\n  --attribute-definitions AttributeName=LockID,AttributeType=S \\\n  --key-schema AttributeName=LockID,KeyType=HASH \\\n  --billing-mode PAY_PER_REQUEST")" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Configurar backend remoto seguro para Terraform state
# backend.tf
terraform {
  backend "s3" {
    bucket         = "my-terraform-state"
    key            = "prod/terraform.tfstate"
    region         = "us-east-1"
    encrypt        = true
    dynamodb_table = "terraform-state-lock"
    
    # Usar perfil IAM con permisos m√≠nimos
    profile = "terraform-prod"
  }
}

# Habilitar versionado en S3 bucket
aws s3api put-bucket-versioning \
  --bucket my-terraform-state \
  --versioning-configuration Status=Enabled

# Habilitar encriptaci√≥n
aws s3api put-bucket-encryption \
  --bucket my-terraform-state \
  --server-side-encryption-configuration '{
    "Rules": [{
      "ApplyServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
      }
    }]
  }'

# Crear DynamoDB table para state locking
aws dynamodb create-table \
  --table-name terraform-state-lock \
  --attribute-definitions AttributeName=LockID,AttributeType=S \
  --key-schema AttributeName=LockID,KeyType=HASH \
  --billing-mode PAY_PER_REQUEST</code></pre>
                        </div>

                        <h3 id="secrets-management-iac">Gesti√≥n de Secrets en IaC</h3>
                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy("# ‚ùå NUNCA hacer esto - Secrets en c√≥digo\nvariable \"db_password\" {\n  default = \"SuperSecret123!\"\n}\n\n# ‚úÖ CORRECTO - Usar variables de entorno\nvariable \"db_password\" {\n  type        = string\n  sensitive   = true\n  description = \"Database password\"\n}\n\n# En terminal:\nexport TF_VAR_db_password=\"$(aws secretsmanager get-secret-value --secret-id db-password --query SecretString --output text)\"\n\n# ‚úÖ CORRECTO - Usar AWS Secrets Manager\n# data.tf\ndata \"aws_secretsmanager_secret_version\" \"db_credentials\" {\n  secret_id = \"prod/database/credentials\"\n}\n\n# main.tf\nlocals {\n  db_credentials = jsondecode(data.aws_secretsmanager_secret_version.db_credentials.secret_string)\n}\n\nresource \"aws_db_instance\" \"main\" {\n  password = local.db_credentials.password\n}\n\n# ‚úÖ CORRECTO - Usar HashiCorp Vault\n# provider.tf\nprovider \"vault\" {\n  address = \"https://vault.example.com:8200\"\n  token   = var.vault_token\n}\n\n# data.tf\ndata \"vault_generic_secret\" \"db_credentials\" {\n  path = \"secret/database/prod\"\n}\n\n# main.tf\nresource \"aws_db_instance\" \"main\" {\n  password = data.vault_generic_secret.db_credentials.data[\"password\"]\n}")" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># ‚ùå NUNCA hacer esto - Secrets en c√≥digo
variable "db_password" {
  default = "SuperSecret123!"
}

# ‚úÖ CORRECTO - Usar variables de entorno
variable "db_password" {
  type        = string
  sensitive   = true
  description = "Database password"
}

# En terminal:
export TF_VAR_db_password="$(aws secretsmanager get-secret-value --secret-id db-password --query SecretString --output text)"

# ‚úÖ CORRECTO - Usar AWS Secrets Manager
# data.tf
data "aws_secretsmanager_secret_version" "db_credentials" {
  secret_id = "prod/database/credentials"
}

# main.tf
locals {
  db_credentials = jsondecode(data.aws_secretsmanager_secret_version.db_credentials.secret_string)
}

resource "aws_db_instance" "main" {
  password = local.db_credentials.password
}

# ‚úÖ CORRECTO - Usar HashiCorp Vault
# provider.tf
provider "vault" {
  address = "https://vault.example.com:8200"
  token   = var.vault_token
}

# data.tf
data "vault_generic_secret" "db_credentials" {
  path = "secret/database/prod"
}

# main.tf
resource "aws_db_instance" "main" {
  password = data.vault_generic_secret.db_credentials.data["password"]
}</code></pre>
                        </div>

                        <h2 id="checklist-iac-detalle">Checklist Detallado de IaC Seguro</h2>
                        <div class="checklist-container mb-6">
                            <div class="checklist" data-checklist-id="iac-secure-detailed">
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 0)" class="checklist-checkbox">
                                        <span>Secrets en secret managers (AWS Secrets Manager, Vault, etc.)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 1)" class="checklist-checkbox">
                                        <span>Terraform state en backend seguro (S3 encriptado, DynamoDB locking)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 2)" class="checklist-checkbox">
                                        <span>Scanning con Checkov/tfsec antes de aplicar</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 3)" class="checklist-checkbox">
                                        <span>Principio de menor privilegio en IAM roles/policies</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 4)" class="checklist-checkbox">
                                        <span>Encriptaci√≥n habilitada por defecto (S3, EBS, RDS, etc.)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 5)" class="checklist-checkbox">
                                        <span>Network segmentation configurada (VPCs, subnets, Security Groups)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 6)" class="checklist-checkbox">
                                        <span>Logging y monitoreo habilitado (CloudTrail, CloudWatch, VPC Flow Logs)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('iac-secure-detailed', 7)" class="checklist-checkbox">
                                        <span>Version control para todo el c√≥digo IaC</span>
                                    </label>
                                </div>
                            </div>
                            <div class="checklist-progress mt-4">
                                <div class="progress-bar">
                                    <div class="progress-fill" data-progress="iac-secure-detailed"></div>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Progreso: <span data-progress-text="iac-secure-detailed">0%</span></p>
                            </div>
                        </div>

                        <div class="alert alert-success mt-8">
                            <p class="font-semibold mb-2">‚úÖ IaC Seguro</p>
                            <p>El c√≥digo de infraestructura debe tratarse con el mismo nivel de seguridad que el c√≥digo de aplicaci√≥n. Siempre escanea antes de aplicar cambios y usa secret managers para credenciales. Implementa state management seguro, usa version control, y aplica principios de seguridad desde el dise√±o. El IaC seguro es fundamental para DevSecOps y compliance.</p>
                        </div>
                    </div>
                </article>
            </div>
        </main>
    </div>
    <footer class="bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-gray-600 dark:text-gray-400">¬© 2026 CyberSec Handbook. Todos los derechos reservados.</p>
                <a href="https://github.com/remiily/cybersec-handbook" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">Editar en GitHub</a>
            </div>
        </div>
    </footer>

    <script src="../../assets/js/search.js"></script>
    <script src="../../assets/js/main.js"></script>
    <style>[x-cloak] { display: none !important; }</style>
            <script>
        // Inicializar navegaci√≥n cuando el DOM est√© listo
        (function() {
            function initNav() {
                if (typeof initNavigation === 'function') {
                    initNavigation();
                } else if (typeof generateNavigation === 'function') {
                    const sidebar = document.querySelector('.sidebar nav');
                    if (sidebar) {
                        sidebar.innerHTML = generateNavigation();
                        if (typeof highlightCurrentPage === 'function') {
                            highlightCurrentPage();
                        }
                    }
                }
            }
            
            // Esperar a que todos los scripts est√©n cargados
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    setTimeout(initNav, 200);
                });
            } else {
                // DOM ya est√° listo, pero esperar un poco para asegurar que Alpine.js est√© listo
                setTimeout(initNav, 200);
            }
        })();
    </script>
        <script>
        // Inicializar navegaci√≥n cuando el DOM est√© listo
        (function() {
            function initNav() {
                if (typeof initNavigation === 'function') {
                    initNavigation();
                } else if (typeof generateNavigation === 'function') {
                    const sidebar = document.querySelector('.sidebar nav');
                    if (sidebar) {
                        sidebar.innerHTML = generateNavigation();
                        if (typeof highlightCurrentPage === 'function') {
                            highlightCurrentPage();
                        }
                    }
                }
            }
            
            // Esperar a que todos los scripts est√©n cargados
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    setTimeout(initNav, 200);
                });
            } else {
                // DOM ya est√° listo, pero esperar un poco para asegurar que Alpine.js est√© listo
                setTimeout(initNav, 200);
            }
        })();
    </script>
</body>
</html>

