<!DOCTYPE html>
<html lang="es" x-data="app" x-init="init()" :class="{ 'dark': darkMode }">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardening de Containers (Docker/Kubernetes) - CyberSec Handbook</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="../assets/css/main.css">
    <script>tailwind.config = { darkMode: 'class' }</script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
    <header class="sticky top-0 z-30 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-4">
                    <button @click="toggleSidebar()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 lg:hidden sidebar-toggle">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <a href="https://remiily.github.io/cybersec-handbook/index.html" class="flex items-center gap-2">
                        <h1 class="text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">üõ°Ô∏è CyberSec Handbook</h1>
                    </a>
                </div>
                <button @click="toggleDarkMode()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800">
                    <svg x-show="!darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                    <svg x-show="darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>
    <div x-show="sidebarOpen" @click="closeSidebar()" class="sidebar-overlay" x-cloak></div>
    <div class="flex relative">
        <aside :class="sidebarOpen ? 'open' : ''" class="sidebar">
            <nav class="p-4 space-y-2">
                <!-- Navigation will be generated by navigation.js -->
            </nav>
        </aside>
        <main class="flex-1 min-h-screen lg:ml-64">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <article>
                    <header class="mb-8">
                        <h1 class="text-4xl font-bold mb-4">Hardening de Containers (Docker/Kubernetes)</h1>
                        <p class="text-xl text-gray-600 dark:text-gray-400 mb-4">Gu√≠a completa de seguridad para contenedores Docker y clusters Kubernetes</p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge badge-intermediate">Nivel: Intermedio</span>
                            <span class="badge">üê≥ Docker</span>
                            <span class="badge">‚ò∏Ô∏è Kubernetes</span>
                        </div>
                    </header>
                    <div id="table-of-contents" class="toc"></div>
                    <div class="prose prose-lg dark:prose-invert max-w-none">
                        <h2 id="introduccion">Introducci√≥n</h2>
                        <p>Los contenedores han revolucionado el despliegue de aplicaciones, pero introducen nuevos vectores de ataque. Esta gu√≠a cubre las mejores pr√°cticas de seguridad para Docker y Kubernetes, desde la construcci√≥n de im√°genes seguras hasta la configuraci√≥n de clusters hardened.</p>

                        <div class="alert alert-info mb-6">
                            <p class="font-semibold mb-2">üí° Principio de Seguridad en Containers</p>
                            <p>El principio fundamental es aplicar el menor privilegio posible: contenedores deben ejecutarse sin privilegios root, con capabilities m√≠nimas, y con acceso limitado a recursos del sistema.</p>
                        </div>

                        <h2 id="docker-hardening">Docker Hardening</h2>

                        <h3 id="imagen-segura">Construcci√≥n de Im√°genes Seguras</h3>
                        <p>La seguridad comienza en la construcci√≥n de la imagen. Usa im√°genes base minimalistas y actualizadas.</p>

                        <h4>Dockerfile Seguro</h4>
                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Dockerfile seguro\nFROM alpine:3.18 AS builder\n\n# Instalar dependencias de compilaci√≥n\nRUN apk add --no-cache build-base\n\n# Copiar c√≥digo fuente\nCOPY . /app\nWORKDIR /app\n\n# Compilar aplicaci√≥n\nRUN make build\n\n# Imagen final minimalista\nFROM alpine:3.18\n\n# Crear usuario no-root\nRUN addgroup -g 1000 appuser && \\\n    adduser -D -u 1000 -G appuser appuser\n\n# Instalar solo runtime dependencies\nRUN apk add --no-cache ca-certificates tzdata\n\n# Copiar binario compilado\nCOPY --from=builder /app/bin/app /usr/local/bin/app\n\n# Cambiar ownership\nRUN chown appuser:appuser /usr/local/bin/app\n\n# Cambiar a usuario no-root\nUSER appuser\n\n# Exponer puerto\nEXPOSE 8080\n\n# Healthcheck\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD wget --no-verbose --tries=1 --spider http://localhost:8080/health || exit 1\n\n# Comando de inicio\nCMD [\"/usr/local/bin/app\"]')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Dockerfile seguro
FROM alpine:3.18 AS builder

# Instalar dependencias de compilaci√≥n
RUN apk add --no-cache build-base

# Copiar c√≥digo fuente
COPY . /app
WORKDIR /app

# Compilar aplicaci√≥n
RUN make build

# Imagen final minimalista
FROM alpine:3.18

# Crear usuario no-root
RUN addgroup -g 1000 appuser && \
    adduser -D -u 1000 -G appuser appuser

# Instalar solo runtime dependencies
RUN apk add --no-cache ca-certificates tzdata

# Copiar binario compilado
COPY --from=builder /app/bin/app /usr/local/bin/app

# Cambiar ownership
RUN chown appuser:appuser /usr/local/bin/app

# Cambiar a usuario no-root
USER appuser

# Exponer puerto
EXPOSE 8080

# Healthcheck
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD wget --no-verbose --tries=1 --spider http://localhost:8080/health || exit 1

# Comando de inicio
CMD ["/usr/local/bin/app"]</code></pre>
                        </div>

                        <h4>Mejores Pr√°cticas Dockerfile</h4>
                        <ul>
                            <li><strong>Usar im√°genes base minimalistas:</strong> Alpine, distroless, o scratch</li>
                            <li><strong>Multi-stage builds:</strong> Reducir tama√±o final de la imagen</li>
                            <li><strong>No ejecutar como root:</strong> Crear usuario no-privilegiado</li>
                            <li><strong>Minimizar layers:</strong> Combinar RUN commands cuando sea posible</li>
                            <li><strong>Usar .dockerignore:</strong> Excluir archivos innecesarios</li>
                            <li><strong>Fijar versiones:</strong> No usar tags como <code>latest</code> en producci√≥n</li>
                            <li><strong>Healthchecks:</strong> Monitorear estado del contenedor</li>
                        </ul>

                        <h3 id="escanear-imagenes">Escanear Im√°genes en Busca de Vulnerabilidades</h3>
                        <p>Nunca despliegues im√°genes sin escanearlas primero. Las vulnerabilidades en im√°genes base pueden comprometer toda la aplicaci√≥n.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Docker Scan (nativo)\ndocker scan nombre_imagen\n\n# Trivy (recomendado)\n# Instalar Trivy\nwget -qO - https://aquasecurity.github.io/trivy-repo/deb/public.key | sudo apt-key add -\necho \"deb https://aquasecurity.github.io/trivy-repo/deb $(lsb_release -sc) main\" | sudo tee -a /etc/apt/sources.list.d/trivy.list\nsudo apt update\nsudo apt install trivy\n\n# Escanear imagen local\ntrivy image nombre_imagen\n\n# Escanear con output JSON\ntrivy image -f json -o report.json nombre_imagen\n\n# Escanear solo vulnerabilidades cr√≠ticas y altas\ntrivy image --severity HIGH,CRITICAL nombre_imagen\n\n# Escanear Dockerfile\ntrivy config Dockerfile\n\n# Escanear y fallar si hay vulnerabilidades cr√≠ticas\ntrivy image --exit-code 1 --severity CRITICAL nombre_imagen\n\n# Integrar en CI/CD\n# .github/workflows/security.yml\ntrivy image --exit-code 1 --severity HIGH,CRITICAL nombre_imagen')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Docker Scan (nativo)
docker scan nombre_imagen

# Trivy (recomendado)
# Instalar Trivy
wget -qO - https://aquasecurity.github.io/trivy-repo/deb/public.key | sudo apt-key add -
echo "deb https://aquasecurity.github.io/trivy-repo/deb $(lsb_release -sc) main" | sudo tee -a /etc/apt/sources.list.d/trivy.list
sudo apt update
sudo apt install trivy

# Escanear imagen local
trivy image nombre_imagen

# Escanear con output JSON
trivy image -f json -o report.json nombre_imagen

# Escanear solo vulnerabilidades cr√≠ticas y altas
trivy image --severity HIGH,CRITICAL nombre_imagen

# Escanear Dockerfile
trivy config Dockerfile

# Escanear y fallar si hay vulnerabilidades cr√≠ticas
trivy image --exit-code 1 --severity CRITICAL nombre_imagen

# Integrar en CI/CD
# .github/workflows/security.yml
trivy image --exit-code 1 --severity HIGH,CRITICAL nombre_imagen</code></pre>
                        </div>

                        <h3 id="ejecutar-contenedores">Ejecutar Contenedores de Forma Segura</h3>
                        <p>La configuraci√≥n de runtime es cr√≠tica para la seguridad del contenedor.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Ejecutar contenedor sin privilegios root\ndocker run --user 1000:1000 nombre_imagen\n\n# Ejecutar contenedor en modo read-only\ndocker run --read-only nombre_imagen\n\n# Con vol√∫menes temporales para escritura\ndocker run --read-only --tmpfs /tmp --tmpfs /var/tmp nombre_imagen\n\n# Limitar recursos del contenedor\ndocker run --memory=\"512m\" --cpus=\"1.0\" nombre_imagen\n\n# Deshabilitar capabilities peligrosas\ndocker run --cap-drop ALL --cap-add NET_BIND_SERVICE nombre_imagen\n\n# Deshabilitar privilegios\ndocker run --security-opt=no-new-privileges nombre_imagen\n\n# Configuraci√≥n completa segura\ndocker run \\\n  --user 1000:1000 \\\n  --read-only \\\n  --tmpfs /tmp \\\n  --tmpfs /var/tmp \\\n  --memory=\"512m\" \\\n  --cpus=\"1.0\" \\\n  --cap-drop ALL \\\n  --security-opt=no-new-privileges \\\n  --security-opt=apparmor=docker-default \\\n  nombre_imagen')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Ejecutar contenedor sin privilegios root
docker run --user 1000:1000 nombre_imagen

# Ejecutar contenedor en modo read-only
docker run --read-only nombre_imagen

# Con vol√∫menes temporales para escritura
docker run --read-only --tmpfs /tmp --tmpfs /var/tmp nombre_imagen

# Limitar recursos del contenedor
docker run --memory="512m" --cpus="1.0" nombre_imagen

# Deshabilitar capabilities peligrosas
docker run --cap-drop ALL --cap-add NET_BIND_SERVICE nombre_imagen

# Deshabilitar privilegios
docker run --security-opt=no-new-privileges nombre_imagen

# Configuraci√≥n completa segura
docker run \
  --user 1000:1000 \
  --read-only \
  --tmpfs /tmp \
  --tmpfs /var/tmp \
  --memory="512m" \
  --cpus="1.0" \
  --cap-drop ALL \
  --security-opt=no-new-privileges \
  --security-opt=apparmor=docker-default \
  nombre_imagen</code></pre>
                        </div>

                        <h3 id="docker-compose-seguro">Docker Compose Seguro</h3>
                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('version: \'3.8\'\n\nservices:\n  app:\n    image: mi-app:latest\n    user: \"1000:1000\"\n    read_only: true\n    tmpfs:\n      - /tmp\n      - /var/tmp\n    mem_limit: 512m\n    cpus: 1.0\n    cap_drop:\n      - ALL\n    cap_add:\n      - NET_BIND_SERVICE\n    security_opt:\n      - no-new-privileges:true\n      - apparmor:docker-default\n    networks:\n      - internal\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"wget\", \"--spider\", \"http://localhost:8080/health\"]\n      interval: 30s\n      timeout: 3s\n      retries: 3\n      start_period: 10s\n\nnetworks:\n  internal:\n    driver: bridge\n    internal: true  # Red interna sin acceso a internet')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code>version: '3.8'

services:
  app:
    image: mi-app:latest
    user: "1000:1000"
    read_only: true
    tmpfs:
      - /tmp
      - /var/tmp
    mem_limit: 512m
    cpus: 1.0
    cap_drop:
      - ALL
    cap_add:
      - NET_BIND_SERVICE
    security_opt:
      - no-new-privileges:true
      - apparmor:docker-default
    networks:
      - internal
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "wget", "--spider", "http://localhost:8080/health"]
      interval: 30s
      timeout: 3s
      retries: 3
      start_period: 10s

networks:
  internal:
    driver: bridge
    internal: true  # Red interna sin acceso a internet</code></pre>
                        </div>

                        <h3 id="hardening-docker-daemon">Hardening del Docker Daemon</h3>
                        <p>El daemon de Docker debe estar configurado de forma segura.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# /etc/docker/daemon.json\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  },\n  \"userns-remap\": \"default\",\n  \"live-restore\": true,\n  \"userland-proxy\": false,\n  \"no-new-privileges\": true,\n  \"seccomp-profile\": \"/etc/docker/seccomp/default.json\",\n  \"apparmor-profile\": \"docker-default\",\n  \"icc\": false,\n  \"iptables\": true,\n  \"ip-forward\": false\n}\n\n# Reiniciar Docker\nsudo systemctl restart docker\n\n# Verificar configuraci√≥n\ndocker info')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># /etc/docker/daemon.json
{
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "10m",
    "max-file": "3"
  },
  "userns-remap": "default",
  "live-restore": true,
  "userland-proxy": false,
  "no-new-privileges": true,
  "seccomp-profile": "/etc/docker/seccomp/default.json",
  "apparmor-profile": "docker-default",
  "icc": false,
  "iptables": true,
  "ip-forward": false
}

# Reiniciar Docker
sudo systemctl restart docker

# Verificar configuraci√≥n
docker info</code></pre>
                        </div>

                        <h2 id="kubernetes-security">Kubernetes Security</h2>

                        <h3 id="pod-security-standards">Pod Security Standards</h3>
                        <p>Kubernetes 1.23+ introduce Pod Security Standards que definen tres niveles de seguridad: privileged, baseline, y restricted.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Pod Security Standards (K8s 1.23+)\n# Aplicar a nivel de namespace:\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: production\n  labels:\n    pod-security.kubernetes.io/enforce: restricted\n    pod-security.kubernetes.io/audit: restricted\n    pod-security.kubernetes.io/warn: restricted\n---\n# Pod seguro siguiendo restricted policy\napiVersion: v1\nkind: Pod\nmetadata:\n  name: secure-pod\n  namespace: production\nspec:\n  securityContext:\n    runAsNonRoot: true\n    runAsUser: 1000\n    fsGroup: 2000\n    seccompProfile:\n      type: RuntimeDefault\n  containers:\n  - name: app\n    image: mi-app:latest\n    securityContext:\n      allowPrivilegeEscalation: false\n      readOnlyRootFilesystem: true\n      runAsNonRoot: true\n      runAsUser: 1000\n      capabilities:\n        drop:\n        - ALL\n    volumeMounts:\n    - name: tmp\n      mountPath: /tmp\n    - name: var-tmp\n      mountPath: /var/tmp\n  volumes:\n  - name: tmp\n    emptyDir: {}\n  - name: var-tmp\n    emptyDir: {}')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Pod Security Standards (K8s 1.23+)
# Aplicar a nivel de namespace:
apiVersion: v1
kind: Namespace
metadata:
  name: production
  labels:
    pod-security.kubernetes.io/enforce: restricted
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted
---
# Pod seguro siguiendo restricted policy
apiVersion: v1
kind: Pod
metadata:
  name: secure-pod
  namespace: production
spec:
  securityContext:
    runAsNonRoot: true
    runAsUser: 1000
    fsGroup: 2000
    seccompProfile:
      type: RuntimeDefault
  containers:
  - name: app
    image: mi-app:latest
    securityContext:
      allowPrivilegeEscalation: false
      readOnlyRootFilesystem: true
      runAsNonRoot: true
      runAsUser: 1000
      capabilities:
        drop:
        - ALL
    volumeMounts:
    - name: tmp
      mountPath: /tmp
    - name: var-tmp
      mountPath: /var/tmp
  volumes:
  - name: tmp
    emptyDir: {}
  - name: var-tmp
    emptyDir: {}</code></pre>
                        </div>

                        <h3 id="network-policies">Network Policies</h3>
                        <p>Las Network Policies controlan el tr√°fico de red entre pods, implementando segmentaci√≥n de red.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: app-network-policy\n  namespace: production\nspec:\n  podSelector:\n    matchLabels:\n      app: mi-app\n  policyTypes:\n  - Ingress\n  - Egress\n  ingress:\n  - from:\n    - namespaceSelector:\n        matchLabels:\n          name: frontend\n    - podSelector:\n        matchLabels:\n          app: frontend\n    ports:\n    - protocol: TCP\n      port: 8080\n  egress:\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          name: database\n    ports:\n    - protocol: TCP\n      port: 5432\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          name: dns\n    ports:\n    - protocol: UDP\n      port: 53')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: app-network-policy
  namespace: production
spec:
  podSelector:
    matchLabels:
      app: mi-app
  policyTypes:
  - Ingress
  - Egress
  ingress:
  - from:
    - namespaceSelector:
        matchLabels:
          name: frontend
    - podSelector:
        matchLabels:
          app: frontend
    ports:
    - protocol: TCP
      port: 8080
  egress:
  - to:
    - namespaceSelector:
        matchLabels:
          name: database
    ports:
    - protocol: TCP
      port: 5432
  - to:
    - namespaceSelector:
        matchLabels:
          name: dns
    ports:
    - protocol: UDP
      port: 53</code></pre>
                        </div>

                        <h3 id="rbac">RBAC (Role-Based Access Control)</h3>
                        <p>RBAC controla qui√©n puede hacer qu√© en el cluster de Kubernetes.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('apiVersion: rbac.authorization.k8s.io/v1\nkind: Role\nmetadata:\n  namespace: production\n  name: app-deployer\nrules:\n- apiGroups: [\"\"]\n  resources: [\"pods\", \"services\"]\n  verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"patch\"]\n- apiGroups: [\"apps\"]\n  resources: [\"deployments\"]\n  verbs: [\"get\", \"list\", \"watch\", \"create\", \"update\", \"patch\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: app-deployer-binding\n  namespace: production\nsubjects:\n- kind: User\n  name: developer@example.com\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: app-deployer\n  apiGroup: rbac.authorization.k8s.io')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code>apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: production
  name: app-deployer
rules:
- apiGroups: [""]
  resources: ["pods", "services"]
  verbs: ["get", "list", "watch", "create", "update", "patch"]
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["get", "list", "watch", "create", "update", "patch"]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: app-deployer-binding
  namespace: production
subjects:
- kind: User
  name: developer@example.com
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: Role
  name: app-deployer
  apiGroup: rbac.authorization.k8s.io</code></pre>
                        </div>

                        <h3 id="secrets-management">Gesti√≥n de Secrets</h3>
                        <p>Los secrets en Kubernetes deben gestionarse de forma segura.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Crear secret desde archivo\nkubectl create secret generic app-secret \\\n  --from-literal=username=admin \\\n  --from-literal=password=secret123 \\\n  --namespace production\n\n# Crear secret desde archivo\nkubectl create secret generic app-secret \\\n  --from-file=username=./username.txt \\\n  --from-file=password=./password.txt\n\n# Usar secret en pod\napiVersion: v1\nkind: Pod\nmetadata:\n  name: app-pod\nspec:\n  containers:\n  - name: app\n    image: mi-app:latest\n    env:\n    - name: DB_USERNAME\n      valueFrom:\n        secretKeyRef:\n          name: app-secret\n          key: username\n    - name: DB_PASSWORD\n      valueFrom:\n        secretKeyRef:\n          name: app-secret\n          key: password\n    volumeMounts:\n    - name: secret-volume\n      mountPath: \"/etc/secrets\"\n      readOnly: true\n  volumes:\n  - name: secret-volume\n    secret:\n      secretName: app-secret\n\n# Usar herramientas externas para secrets\n# - Sealed Secrets\n# - External Secrets Operator\n# - Vault\n# - AWS Secrets Manager')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Crear secret desde archivo
kubectl create secret generic app-secret \
  --from-literal=username=admin \
  --from-literal=password=secret123 \
  --namespace production

# Crear secret desde archivo
kubectl create secret generic app-secret \
  --from-file=username=./username.txt \
  --from-file=password=./password.txt

# Usar secret en pod
apiVersion: v1
kind: Pod
metadata:
  name: app-pod
spec:
  containers:
  - name: app
    image: mi-app:latest
    env:
    - name: DB_USERNAME
      valueFrom:
        secretKeyRef:
          name: app-secret
          key: username
    - name: DB_PASSWORD
      valueFrom:
        secretKeyRef:
          name: app-secret
          key: password
    volumeMounts:
    - name: secret-volume
      mountPath: "/etc/secrets"
      readOnly: true
  volumes:
  - name: secret-volume
    secret:
      secretName: app-secret

# Usar herramientas externas para secrets
# - Sealed Secrets
# - External Secrets Operator
# - Vault
# - AWS Secrets Manager</code></pre>
                        </div>

                        <h3 id="opa-gatekeeper">OPA Gatekeeper</h3>
                        <p>OPA Gatekeeper permite implementar pol√≠ticas de seguridad como c√≥digo en Kubernetes.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Instalar OPA Gatekeeper\nkubectl apply -f https://raw.githubusercontent.com/open-policy-agent/gatekeeper/release-3.14/deploy/gatekeeper.yaml\n\n# Ejemplo: Pol√≠tica para requerir labels\napiVersion: templates.gatekeeper.sh/v1beta1\nkind: ConstraintTemplate\nmetadata:\n  name: k8srequiredlabels\nspec:\n  crd:\n    spec:\n      names:\n        kind: K8sRequiredLabels\n      validation:\n        openAPIV3Schema:\n          type: object\n          properties:\n            labels:\n              type: array\n              items:\n                type: string\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: |\n        package k8srequiredlabels\n        violation[{\"msg\": msg}] {\n          required := input.parameters.labels\n          provided := input.review.object.metadata.labels\n          missing := required[_]\n          not provided[missing]\n          msg := sprintf(\"Missing required label: %v\", [missing])\n        }\n---\napiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sRequiredLabels\nmetadata:\n  name: must-have-app-label\nspec:\n  match:\n    kinds:\n      - apiGroups: [\"\"]\n        kinds: [\"Pod\"]\n  parameters:\n    labels: [\"app\"]')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Instalar OPA Gatekeeper
kubectl apply -f https://raw.githubusercontent.com/open-policy-agent/gatekeeper/release-3.14/deploy/gatekeeper.yaml

# Ejemplo: Pol√≠tica para requerir labels
apiVersion: templates.gatekeeper.sh/v1beta1
kind: ConstraintTemplate
metadata:
  name: k8srequiredlabels
spec:
  crd:
    spec:
      names:
        kind: K8sRequiredLabels
      validation:
        openAPIV3Schema:
          type: object
          properties:
            labels:
              type: array
              items:
                type: string
  targets:
    - target: admission.k8s.gatekeeper.sh
      rego: |
        package k8srequiredlabels
        violation[{"msg": msg}] {
          required := input.parameters.labels
          provided := input.review.object.metadata.labels
          missing := required[_]
          not provided[missing]
          msg := sprintf("Missing required label: %v", [missing])
        }
---
apiVersion: constraints.gatekeeper.sh/v1beta1
kind: K8sRequiredLabels
metadata:
  name: must-have-app-label
spec:
  match:
    kinds:
      - apiGroups: [""]
        kinds: ["Pod"]
  parameters:
    labels: ["app"]</code></pre>
                        </div>

                        <h3 id="falco">Falco - Runtime Security</h3>
                        <p>Falco detecta comportamiento an√≥malo en tiempo de ejecuci√≥n en contenedores y hosts.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Instalar Falco\ncurl -s https://falco.org/repo/falcosecurity-3672BA8F.asc | sudo apt-key add -\necho \"deb https://download.falco.org/packages/deb stable main\" | sudo tee -a /etc/apt/sources.list.d/falcosecurity.list\nsudo apt update\nsudo apt install -y falco\n\n# Iniciar Falco\nsudo systemctl start falco\nsudo systemctl enable falco\n\n# Reglas personalizadas de Falco\n# /etc/falco/falco_rules.local.yaml\n- rule: Detect Shell in Container\n  desc: Detect shell spawned in container\n  condition: >\n    spawned_process and container and\n    shell_procs and proc.tty != 0 and\n    not container_entrypoint\n  output: >\n    Shell spawned in container (user=%user.name %container.info\n    shell=%proc.name parent=%proc.pname cmdline=%proc.cmdline)\n  priority: WARNING\n  tags: [container, shell, mitre_execution]\n\n# Ver logs de Falco\nsudo journalctl -u falco -f')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Instalar Falco
curl -s https://falco.org/repo/falcosecurity-3672BA8F.asc | sudo apt-key add -
echo "deb https://download.falco.org/packages/deb stable main" | sudo tee -a /etc/apt/sources.list.d/falcosecurity.list
sudo apt update
sudo apt install -y falco

# Iniciar Falco
sudo systemctl start falco
sudo systemctl enable falco

# Reglas personalizadas de Falco
# /etc/falco/falco_rules.local.yaml
- rule: Detect Shell in Container
  desc: Detect shell spawned in container
  condition: >
    spawned_process and container and
    shell_procs and proc.tty != 0 and
    not container_entrypoint
  output: >
    Shell spawned in container (user=%user.name %container.info
    shell=%proc.name parent=%proc.pname cmdline=%proc.cmdline)
  priority: WARNING
  tags: [container, shell, mitre_execution]

# Ver logs de Falco
sudo journalctl -u falco -f</code></pre>
                        </div>

                        <h2 id="herramientas-seguridad">Herramientas de Seguridad</h2>

                        <h3 id="trivy">Trivy - Vulnerability Scanner</h3>
                        <p>Trivy escanea im√°genes, filesystems, y repositorios Git en busca de vulnerabilidades.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Trivy para im√°genes\ntrivy image nombre_imagen\n\n# Trivy para Kubernetes\ntrivy k8s cluster\n\n# Trivy para archivos\ntrivy fs /path/to/directory\n\n# Trivy para repositorios Git\ntrivy repo https://github.com/user/repo\n\n# Integrar en CI/CD\ntrivy image --exit-code 1 --severity HIGH,CRITICAL nombre_imagen')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Trivy para im√°genes
trivy image nombre_imagen

# Trivy para Kubernetes
trivy k8s cluster

# Trivy para archivos
trivy fs /path/to/directory

# Trivy para repositorios Git
trivy repo https://github.com/user/repo

# Integrar en CI/CD
trivy image --exit-code 1 --severity HIGH,CRITICAL nombre_imagen</code></pre>
                        </div>

                        <h3 id="kube-bench">kube-bench - CIS Benchmark</h3>
                        <p>kube-bench verifica que el cluster de Kubernetes cumple con el CIS Kubernetes Benchmark.</p>

                        <div class="command-block mb-4" x-data="copyCommand">
                            <button @click="copy('# Ejecutar kube-bench\n# Como job en Kubernetes\nkubectl apply -f https://raw.githubusercontent.com/aquasecurity/kube-bench/main/job.yaml\n\n# Ver resultados\nkubectl logs -f job/kube-bench\n\n# O ejecutar localmente\nkubectl run --rm -i -t kube-bench --image=aquasec/kube-bench:latest --restart=Never -- sh\n\n# Ejecutar checks espec√≠ficos\nkubectl run --rm -i -t kube-bench --image=aquasec/kube-bench:latest --restart=Never -- ./kube-bench master')" class="copy-btn" :class="{ 'copied': copied }">
                                <svg x-show="!copied" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                                <svg x-show="copied" class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-cloak>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <pre><code># Ejecutar kube-bench
# Como job en Kubernetes
kubectl apply -f https://raw.githubusercontent.com/aquasecurity/kube-bench/main/job.yaml

# Ver resultados
kubectl logs -f job/kube-bench

# O ejecutar localmente
kubectl run --rm -i -t kube-bench --image=aquasec/kube-bench:latest --restart=Never -- sh

# Ejecutar checks espec√≠ficos
kubectl run --rm -i -t kube-bench --image=aquasec/kube-bench:latest --restart=Never -- ./kube-bench master</code></pre>
                        </div>

                        <h2 id="checklist-seguridad">Checklist de Seguridad Containers</h2>
                        <div class="checklist-container mb-6">
                            <div class="checklist" data-checklist-id="containers-security">
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 0)" class="checklist-checkbox">
                                        <span>Usar im√°genes base minimalistas (Alpine, distroless)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 1)" class="checklist-checkbox">
                                        <span>Escanear todas las im√°genes antes de desplegar (Trivy, docker scan)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 2)" class="checklist-checkbox">
                                        <span>Ejecutar contenedores sin privilegios root</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 3)" class="checklist-checkbox">
                                        <span>Usar modo read-only cuando sea posible</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 4)" class="checklist-checkbox">
                                        <span>Limitar recursos (CPU, memoria) de contenedores</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 5)" class="checklist-checkbox">
                                        <span>Deshabilitar capabilities peligrosas (--cap-drop ALL)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 6)" class="checklist-checkbox">
                                        <span>Implementar Pod Security Standards en Kubernetes</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 7)" class="checklist-checkbox">
                                        <span>Configurar Network Policies para segmentaci√≥n</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 8)" class="checklist-checkbox">
                                        <span>Usar RBAC para control de acceso</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 9)" class="checklist-checkbox">
                                        <span>Gestionar secrets de forma segura (no en c√≥digo)</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 10)" class="checklist-checkbox">
                                        <span>Implementar OPA Gatekeeper para pol√≠ticas</span>
                                    </label>
                                </div>
                                <div class="checklist-item">
                                    <label class="flex items-center gap-2 cursor-pointer">
                                        <input type="checkbox" onchange="handleChecklistChange('containers-security', 11)" class="checklist-checkbox">
                                        <span>Usar Falco para detecci√≥n en tiempo de ejecuci√≥n</span>
                                    </label>
                                </div>
                            </div>
                            <div class="checklist-progress mt-4">
                                <div class="progress-bar">
                                    <div class="progress-fill" data-progress="containers-security"></div>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Progreso: <span data-progress-text="containers-security">0%</span></p>
                            </div>
                        </div>

                        <h2 id="recursos-adicionales">Recursos Adicionales</h2>
                        <ul>
                            <li><strong>CIS Docker Benchmark:</strong> <a href="https://www.cisecurity.org/benchmark/docker" class="text-blue-600 dark:text-blue-400">cisecurity.org</a></li>
                            <li><strong>CIS Kubernetes Benchmark:</strong> <a href="https://www.cisecurity.org/benchmark/kubernetes" class="text-blue-600 dark:text-blue-400">cisecurity.org</a></li>
                            <li><strong>Docker Security:</strong> <a href="https://docs.docker.com/engine/security/" class="text-blue-600 dark:text-blue-400">docs.docker.com</a></li>
                            <li><strong>Kubernetes Security:</strong> <a href="https://kubernetes.io/docs/concepts/security/" class="text-blue-600 dark:text-blue-400">kubernetes.io</a></li>
                            <li><strong>Trivy:</strong> <a href="https://github.com/aquasecurity/trivy" class="text-blue-600 dark:text-blue-400">github.com/aquasecurity/trivy</a></li>
                            <li><strong>Falco:</strong> <a href="https://falco.org" class="text-blue-600 dark:text-blue-400">falco.org</a></li>
                        </ul>

                        <div class="alert alert-success mt-8">
                            <p class="font-semibold mb-2">‚úÖ Conclusi√≥n</p>
                            <p>La seguridad de contenedores requiere atenci√≥n en m√∫ltiples capas: construcci√≥n de im√°genes, configuraci√≥n de runtime, y pol√≠ticas de cluster. Usa herramientas como Trivy, Falco, y OPA Gatekeeper para mejorar la seguridad. Siempre escanea im√°genes antes de usarlas en producci√≥n, aplica el principio de menor privilegio, y mant√©n tus im√°genes y clusters actualizados.</p>
                        </div>
                    </div>
                </article>
            </div>
        </main>
    </div>
        <footer class="bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-6">
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3">CyberSec Handbook</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                        Gu√≠a profesional y completa de ciberseguridad para profesionales de todos los niveles.
                    </p>
                    <p class="text-xs text-gray-500 dark:text-gray-500">
                        ¬© 2026 CyberSec Handbook. Todos los derechos reservados.
                    </p>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3">Recursos</h3>
                    <ul class="space-y-2">
                        <li>
                            <a href="https://github.com/remiily/cybersec-handbook" target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                GitHub
                            </a>
                        </li>
                        <li>
                            <a href="https://remiily.github.io/cybersec-handbook" target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">
                                Sitio Web
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/remiily/cybersec-handbook/issues" target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">
                                Reportar Issue
                            </a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3">Desarrollado por</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                        <a href="https://github.com/remiily" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:underline">
                            @remiily
                        </a>
                    </p>
                    <p class="text-xs text-gray-500 dark:text-gray-500">
                        Recurso educativo de c√≥digo abierto bajo licencia MIT
                    </p>
                </div>
            </div>
            <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
                <p class="text-xs text-center text-gray-500 dark:text-gray-500">
                    Este handbook es un recurso educativo. Las t√©cnicas y herramientas descritas deben usarse √∫nicamente en entornos autorizados y de acuerdo con las leyes aplicables.
                </p>
            </div>
        </div>
    </footer>

    <script src="../assets/js/navigation.js"></script>
    <script src="../assets/js/search.js"></script>
    <script src="../assets/js/main.js"></script>
    <style>[x-cloak] { display: none !important; }</style>
    <script>
        (function() {
            function initNav() {
                if (typeof initNavigation === 'function') {
                    initNavigation();
                } else if (typeof generateNavigation === 'function') {
                    const sidebar = document.querySelector('.sidebar nav');
                    if (sidebar) {
                        sidebar.innerHTML = generateNavigation();
                        if (typeof highlightCurrentPage === 'function') {
                            highlightCurrentPage();
                        }
                    }
                }
            }
            
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    setTimeout(initNav, 200);
                });
            } else {
                setTimeout(initNav, 200);
            }
        })();
    </script>
</body>
</html>